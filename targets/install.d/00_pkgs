#!/bin/bash
# (C) 2013-2014 David 'Mokon' Bond, All Rights Reserved

read -t 5 -p "Do you want to install packages MENV might use? " -n 1 -r
echo

if [[ $REPLY =~ ^[Yy]$ ]] ; then

  echo -n Password:
  read -s password
  echo

  login_to_sudo $password
  cat << EOF | sudo tee /etc/yum.repos.d/google-chrome.repo
[google-chrome]
name=google-chrome-\$basearch
baseurl=http://dl.google.com/linux/chrome/rpm/stable/\$basearch
enabled=1
gpgcheck=1
gpgkey=https://dl-ssl.google.com/linux/linux_signing_key.pub
EOF

  login_to_sudo $password
  cat << EOF | sudo tee /etc/yum.repos.d/adobe-linux-x86_64.repo
[adobe-linux-x86_64]
name=Adobe Systems Incorporated
baseurl=http://linuxdownload.adobe.com/linux/x86_64/
enabled=1
gpgcheck=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-adobe-linux
EOF

  login_to_sudo $password
  cat << EOF | sudo tee /etc/yum.repos.d/google.repo 
[google32]
name=Google - i386
baseurl=http://dl.google.com/linux/rpm/stable/i386
enabled=1
gpgcheck=1
EOF

  login_to_sudo $password
  cat << EOF | sudo tee /etc/yum.repos.d/google-earth.repo 
[google-earth]
name=google-earth
baseurl=http://dl.google.com/linux/earth/rpm/stable/x86_64
enabled=1
gpgcheck=1
EOF

  login_to_sudo $password
cat << EOF | sudo tee /etc/yum.repos.d/rpm-sphere.repo
[rpm-sphere]
name=RPM Sphere
baseurl=http://download.opensuse.org/repositories/home:/zhonghuaren/Fedora_21/
gpgkey=http://download.opensuse.org/repositories/home:/zhonghuaren/Fedora_21/repodata/repomd.xml.key
enabled=1
gpgcheck=1
EOF

  login_to_sudo $password
  su -c 'yum localinstall --nogpgcheck \
    http://download1.rpmfusion.org/free/fedora/rpmfusion-free-release-$(rpm -E %fedora).noarch.rpm \
    http://download1.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-$(rpm -E %fedora).noarch.rpm'

  login_to_sudo $password
  sudo yum update -y

  login_to_sudo $password
  sudo yum -y install libXv.i686 libXScrnSaver.i686 qt.i686 qt-x11.i686 pulseaudio-libs.i686 pulseaudio-libs-glib2.i686 alsa-plugins-pulseaudio.i686 qtwebkit.i686

  wget http://www.skype.com/go/getskype-linux-beta-fc10 -O skype.rpm
  login_to_sudo $password
  sudo yum -y localinstall skype.rpm
  $RM skype.rpm

  login_to_sudo $password
  sudo yum -y plymouth-theme*

  install_simple_package sed
  install_simple_package wireshark
  install_simple_package wireshark-gnome
  install_simple_package bc
  install_simple_package wget
  install_simple_package grep
  install_simple_package openssh-clients
  install_simple_package python-fabulous
  install_simple_package bleachbit
  install_simple_package gdmap
  install_simple_package gimp
  install_simple_package vlc
  install_simple_package google-chrome-stable
  install_simple_package cmatrix
  install_simple_package eclipse-jdt
  install_simple_package lynx
fi
  
read -t 5 -p "Do you want to install devel packages MENV might use? " -n 1 -r
echo

if [[ $REPLY =~ ^[Yy]$ ]] ; then

  echo -n Password:
  read -s password
  echo

  login_to_sudo $password

  install_simple_package clang
  install_simple_package tmux
  install_simple_package screen
  install_simple_package cscope
  install_simple_package vim
  install_simple_package wemux
fi

menv_function install_java
function install_java {
  echo "Not Implemented Yet"
}
